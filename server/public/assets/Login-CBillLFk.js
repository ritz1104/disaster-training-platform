import{r as n,u as f,a as p,j as e,L as h,z as l}from"./index-WRKZqFJu.js";import{u as b}from"./index.esm-CHuGv387.js";import{M as j}from"./mail-Dwmw0W6c.js";import{L as y}from"./lock-CRq0O1Bn.js";import{E as N}from"./eye-off-C9mufvk2.js";import{E as w}from"./eye-DhjV396p.js";const A=()=>{const[a,m]=n.useState(!1),[t,o]=n.useState(!1),{login:d}=f(),c=p(),{register:i,handleSubmit:u,formState:{errors:s}}=b(),x=async g=>{o(!0);try{const r=await d(g);r.success?(l.success("Login successful!"),c("/dashboard")):l.error(r.message)}catch{l.error("Login failed. Please try again.")}finally{o(!1)}};return e.jsx("div",{className:"min-h-[80vh] flex items-center justify-center",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("img",{src:"/ndma-logo.svg",alt:"NDMA Logo",className:"h-16 w-16"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"NDMA Training Portal"}),e.jsx("p",{className:"text-gray-600",children:"National Disaster Management Administration"}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Authorized Personnel Only"})]}),e.jsxs("form",{onSubmit:u(x),autoComplete:"off",className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"email",autoComplete:"off",...i("email",{required:"Email is required",pattern:{value:/^\S+@\S+$/i,message:"Invalid email address"}}),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s.email?"border-red-500":"border-gray-300"}`,placeholder:"Enter your email"})]}),s.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:a?"text":"password",autoComplete:"off",...i("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),className:`w-full pl-10 pr-12 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${s.password?"border-red-500":"border-gray-300"}`,placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>m(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?e.jsx(N,{size:20}):e.jsx(w,{size:20})})]}),s.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.password.message})]}),e.jsx("button",{type:"submit",disabled:t,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${t?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"} text-white`,children:t?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing In..."]}):"Sign In"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",e.jsx(h,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign up here"})]})})]})})};export{A as default};
